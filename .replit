# Replit configuration for Flupp Node.js backend
# Optimized for external deployment and public URL access

run = "cd backend/flupp && npm install && npm start"
modules = ["nodejs-20"]

[deployment]
run = ["sh", "-c", "cd backend/flupp && npm install && npm start"]
deploymentTarget = "cloudrun"

[env]
HOST = "0.0.0.0"
NODE_ENV = "production"
PORT = "8787"

[[ports]]
localPort = 8787
externalPort = 80
exposeLocalhost = true

[languages]

[languages.javascript]
pattern = "**/{*.js,*.jsx,*.ts,*.tsx,*.mjs}"

[languages.javascript.languageServer]
start = "typescript-language-server --stdio"